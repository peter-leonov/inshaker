#!/bin/sh

PROJ_ROOT="/www/inshaker"

# stopping nginx
if [ -f $PROJ_ROOT/nginx.pid ]; then
	kill -INT $(cat $PROJ_ROOT/nginx.pid)
else
	echo "nginx wasn't started (no pid file found)"
fi

# stopping mini_httpd
if [ -f $PROJ_ROOT/mini_httpd.pid ]; then
	kill -INT $(cat $PROJ_ROOT/mini_httpd.pid)
	rm -f $PROJ_ROOT/mini_httpd.pid
else
	echo "mini_httpd wasn't started (no pid file found)"
fi

# stopping this
if [ -f $PROJ_ROOT/storage/thin.pid ]; then
	kill -INT $(cat $PROJ_ROOT/storage/thin.pid)
	rm -f $PROJ_ROOT/storage/thin.pid
else
	echo "thin wasn't started (no pid file found)"
fi
