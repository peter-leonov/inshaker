<!DOCTYPE html>
<html lang="en">
<head>
	<meta name="viewport" content="width=device-width"/>
	<title>Request tests</title>
	<script src="tests.common.js"></script>
	
	<!--[if lte IE 7]><script src="../src/fixes/trident3.js"></script><![endif]-->
	<script src="../src/modules/url-encode.js"></script>
	<script src="../src/modules/request.js"></script>
</head>
<body>

<script>
Tests.test(function (t)
{
	t.test('sync GET', function (t)
	{
		t.expect(1)
		function callback ()
		{
			t.eq(/<title>(.+?)<\/title>/.exec(this.responseText)[1], 'Request tests')
		}
		Request.get('?', null, callback, true)
	})
	
	t.test('async GET', function (t)
	{
		t.expect(1)
		function callback ()
		{
			t.eq(/<title>(.+?)<\/title>/.exec(this.responseText)[1], 'Request tests')
			t.done()
		}
		Request.get('?', null, callback)
		t.wait(1000)
	})
	
})
</script>
</body>
</html>
