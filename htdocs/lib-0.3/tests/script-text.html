<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
	<meta name="viewport" content="width=device-width"/>
	<title>Tests for script.text property</title>
	<script src="tests.common.js" type="text/javascript"></script>
	
	<!--[if lte IE 7]><script type="text/javascript" src="../src/core/fixes/trident3.js"></script><![endif]-->
	<!--[if gte IE 8]><script type="text/javascript" src="../src/core/fixes/trident4.js"></script><![endif]-->
	<script type="text/javascript" src="../src/modules/require.js"></script>
</head>
<body>
<script type="text/javascript">
Tests.test(function (t)
{
	t.test('tag reusing', function (t)
	{
		var script = document.createElement('script')
		
		window.globalVariable = 0
		
		script.text = 'window.globalVariable = 1'
		t.no(window.globalVariable, 'before appendChild()')
		
		document.body.appendChild(script)
		t.eq(window.globalVariable, 1, 'after appendChild()')
		
		script.text = 'window.globalVariable = 2'
		t.ne(window.globalVariable, 2, 'second assignment')
		
		script.text = 'window.globalVariable = 3'
		document.body.removeChild(script)
		document.body.appendChild(script)
		t.ne(window.globalVariable, 3, 'after removeChild()')
	})
})
</script>
</body>
</html>